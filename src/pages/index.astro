---
import Layout from "../layouts/Layout.astro";
import SobreMi from "../components/sobreMi.astro";
import Proyectos from "../components/proyectos.astro";
import Footer from "../components/footer.astro";
---

<Layout title="Ailen Nahuel C ‚Ä¢ Dise√±adora ‚úåÔ∏è">
  <section class="divInicio">
    <div id="texto-bienvenida" class="texto-animado">
      <span id="bienvenida-texto" class="bg-clip-text-gradient"></span>
      <span id="bienvenida-emojis"></span>
      <span id="cursor-bienvenida" class="cursor">|</span>
    </div>

    <div id="texto-proposito" class="texto-animado hidden">
      <span id="proposito-texto-1" class="infoInicio"></span>
      <span id="proposito-texto-2" class="bg-clip-text-gradient infoInicioEspecial"></span>
      <span id="proposito-texto-3" class="infoInicio"></span>
      <span id="proposito-emojis"></span>
      <span id="cursor-proposito" class="cursor">|</span>
    </div>
  </section>
  <SobreMi />
  <Proyectos />
  <Footer />

  <style>
    @reference "tailwindcss";

    span {
      font-size: 5vw;
      font-weight: bold;
      letter-spacing: -0.02em;
      line-height: 1.1;
      display: inline-block;
      /* Asegura que el texto se ajuste si la pantalla es muy peque√±a */
      white-space: normal; 
      vertical-align: middle; /* Alinea mejor los emojis y el cursor */
    }

    .infoInicio {
      color: white;
    }

  .divInicio {
  text-align: center;
  position: relative;
  width: 100%;
  padding-bottom: 30%; /* Usa padding para mantener el espacio din√°mico */
  min-height: 150px;
}

    .texto-animado {
    position: absolute;
    top: 0; /* Lo pega arriba */
    left: 50%;
    transform: translateX(-50%); /* Solo centra horizontalmente */
    width: 90%;
    padding-top: 1rem; /* Opcional: a√±ade un peque√±o espacio superior */
    }
        
    /* Clase para ocultar un contenedor */
    .hidden {
      display: none;
    }

    /* Cursor parpadeante con degradado */
    .cursor {
      font-weight: normal;
      animation: blink 0.75s step-end infinite, flujo-color 5s ease infinite alternate;
      background-image: linear-gradient(
        90deg,
        #BE07AE,
        #110773,
        #BE07AE
      );
      background-size: 400% 400%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    @keyframes blink {
      from, to { opacity: 1; }
      50% { opacity: 0; }
    }

    @media (max-width: 768px) {
  
  /* Aumenta el tama√±o de la letra de la animaci√≥n.
    Cambiamos de 5vw a 8vw para que sea m√°s grande en pantallas peque√±as.
  */
  .divInicio span {
    font-size: 8vw;
  }

  /* Reduce el espacio inferior del contenedor de la animaci√≥n.
    Lo bajamos de 30% a 25% para minimizar el espacio vac√≠o.
  */
  .divInicio {
    padding-bottom: 55%;
    min-height: 190px; /* Tambi√©n ajustamos la altura m√≠nima */
  }

}
  @media (max-width: 600px) {
  
  /* Aumenta el tama√±o de la letra de la animaci√≥n.
    Cambiamos de 5vw a 8vw para que sea m√°s grande en pantallas peque√±as.
  */
  .divInicio span {
    font-size: 8vw;
  }

  /* Reduce el espacio inferior del contenedor de la animaci√≥n.
    Lo bajamos de 30% a 25% para minimizar el espacio vac√≠o.
  */
  .divInicio {
    padding-bottom: 35%;
    min-height: 250px; /* Tambi√©n ajustamos la altura m√≠nima */
  }

}

  @media (max-width: 450px) {
  
  /* Aumenta el tama√±o de la letra de la animaci√≥n.
    Cambiamos de 5vw a 8vw para que sea m√°s grande en pantallas peque√±as.
  */
  .divInicio span {
    font-size: 8vw;
  }

  /* Reduce el espacio inferior del contenedor de la animaci√≥n.
    Lo bajamos de 30% a 25% para minimizar el espacio vac√≠o.
  */
  .divInicio {
    padding-bottom: 35%;
    min-height: 190px; /* Tambi√©n ajustamos la altura m√≠nima */
  }

}
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // --- ELEMENTOS DEL DOM ---
      const bienvenidaDiv = document.getElementById('texto-bienvenida');
      const propositoDiv = document.getElementById('texto-proposito');
      
      const bienvenidaTextoEl = document.getElementById('bienvenida-texto');
      const bienvenidaEmojisEl = document.getElementById('bienvenida-emojis');
      const bienvenidaCursor = document.getElementById('cursor-bienvenida');

      const propositoTexto1El = document.getElementById('proposito-texto-1');
      const propositoTexto2El = document.getElementById('proposito-texto-2');
      const propositoTexto3El = document.getElementById('proposito-texto-3');
      const propositoEmojisEl = document.getElementById('proposito-emojis');
      const propositoCursor = document.getElementById('cursor-proposito');

      // --- CONTENIDO Y CONFIGURACI√ìN ---
      const textos = {
        bienvenida: 'Hola, soy Ailen Nahuel dise√±adora UX UI !',
        proposito1: 'Transformar necesidades ',
        proposito2: 'en experiencias digitales',
        proposito3: ' intuitivas es mi prop√≥sito.',
        emojis: ' ‚úåÔ∏èüë©‚Äçüíª'
      };
      
      const config = {
        typingSpeed: 80, // ms por caracter
        erasingSpeed: 50, // ms por caracter
        pauseAfterHello: 5000, // 5 segundos
        pauseAfterPurpose: 5000, // 5 segundos antes de repetir
      };

      // --- FUNCIONES DE ANIMACI√ìN ---
      const delay = (ms) => new Promise(res => setTimeout(res, ms));

      /** Escribe texto en un elemento, caracter por caracter */
      async function type(element, text) {
        for (const char of text) {
          element.textContent += char;
          await delay(config.typingSpeed);
        }
      }

      /** Borra texto de un array de elementos, en orden inverso */
      async function erase(elements) {
        for (let i = elements.length - 1; i >= 0; i--) {
          const element = elements[i];
          let text = element.textContent;
          while (text.length > 0) {
            text = text.slice(0, -1);
            element.textContent = text;
            await delay(config.erasingSpeed);
          }
        }
      }

      // --- SECUENCIA PRINCIPAL ---
      async function runAnimationLoop() {
        while (true) {
          // --- 1. Muestra "Hola, soy..." ---
          propositoDiv.classList.add('hidden');
          bienvenidaDiv.classList.remove('hidden');

          bienvenidaCursor.style.display = 'inline-block';
          await type(bienvenidaTextoEl, textos.bienvenida);
          await type(bienvenidaEmojisEl, textos.emojis);
          bienvenidaCursor.style.display = 'none';

          await delay(config.pauseAfterHello);
          
          bienvenidaCursor.style.display = 'inline-block';
          await erase([bienvenidaEmojisEl, bienvenidaTextoEl]);
          bienvenidaCursor.style.display = 'none';

          // --- 2. Muestra "Transformar..." ---
          bienvenidaDiv.classList.add('hidden');
          propositoDiv.classList.remove('hidden');

          propositoCursor.style.display = 'inline-block';
          await type(propositoTexto1El, textos.proposito1);
          await type(propositoTexto2El, textos.proposito2);
          await type(propositoTexto3El, textos.proposito3);
          propositoCursor.style.display = 'none';
          
          await delay(config.pauseAfterPurpose);

          propositoCursor.style.display = 'inline-block';
          await erase([propositoEmojisEl, propositoTexto3El, propositoTexto2El, propositoTexto1El]);
          propositoCursor.style.display = 'none';
        }
      }

      // Iniciar la animaci√≥n
      runAnimationLoop();
    });
  </script>
</Layout>